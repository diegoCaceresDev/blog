<mat-card *ngIf="post" class="post-detail-card">
  <mat-card-header>
    <mat-card-title>{{ post.title }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <p>{{ post.content }}</p>
    <div class="post-author">
      <mat-icon>person</mat-icon>
      <span>Autor: {{ post.author?.nombre || "Desconocido" }}</span>
    </div>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button color="primary" [routerLink]="['/dashboard']">
      Volver
    </button>
  </mat-card-actions>
</mat-card>

<!-- Formulario para agregar comentario -->
<mat-card class="comment-form">
  <mat-card-title>Agregar Comentario</mat-card-title>
  <mat-card-content>
    <form [formGroup]="commentForm" (ngSubmit)="submitComment()">
      <mat-form-field>
        <textarea
          matInput
          formControlName="content"
          placeholder="Escribe tu comentario..."
        ></textarea>
        <mat-error *ngIf="commentForm.get('content')?.hasError('required')">
          El comentario no puede estar vacío
        </mat-error>
      </mat-form-field>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="commentForm.invalid"
      >
        Enviar
      </button>
    </form>
  </mat-card-content>
</mat-card>

<!-- Sección de comentarios -->
<mat-card class="comments-section">
  <mat-card-title>Comentarios</mat-card-title>
  <div class="comments-content">
    <mat-card-content *ngFor="let comment of comments">
      <div class="comment">
        <p>{{ comment.content }}</p>
        <small>Autor: {{ comment.author?.nombre || "Anónimo" }}</small>
        <small class="comment-date">{{
          getRelativeTime(comment.createdAt)
        }}</small>
        <!-- Mostrar fecha y hora en formato relativo -->
      </div>
    </mat-card-content>
  </div>
</mat-card>
